!function(){"use strict";var e="";const t={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save-btn",inactiveButtonClass:"modal__save-btn_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__input-error_visible"};function o(e,t,o){const r=t.id+"-error",n=e.querySelector("#"+r);t.classList.remove(o.inputErrorClass),n.textContent="",n.classList.remove(o.errorClass)}function r(e,t){e.classList.add(t.inactiveButtonClass),e.disabled=!0}function n(e,t,o){!function(e){return e.some((e=>!e.validity.valid))}(e)?function(e,t){e.classList.remove(t.inactiveButtonClass),e.disabled=!1}(t,o):r(t,o)}var c=e+"8650253b58b46f0f1c06.svg",i=e+"a3ea5deb48e5932f3733.png",l=e+"d38272e02bb4f1ab1c37.svg",a=e+"40608da7369d39bc1077.svg";document.getElementById("header-logo").src=c,document.getElementById("profile-img").src=i,document.getElementById("edit-profile-icon").src=l,document.getElementById("new-profile-icon").src=a;const d=document.querySelector(".profile__edit-btn"),s=document.querySelector(".modal__close-btn"),u=document.querySelector("#edit-modal"),m=(u.querySelector(".modal__save-btn"),u.querySelector("#name")),f=u.querySelector("#description"),p=document.querySelector(".profile__title"),_=document.querySelector(".profile__description"),y=document.querySelector("#card-template"),b=document.querySelector(".cards__list"),v=document.querySelector(".profile__new-btn"),x=document.querySelector("#post-modal"),S=x.querySelector(".modal__close-btn"),q=document.querySelector("#link"),w=document.querySelector("#caption"),E=document.querySelector("#preview-modal"),h=E.querySelector(".modal__img"),k=E.querySelector(".modal__close-btn"),L=E.querySelector(".modal__caption"),g=x.querySelector(".modal__save-btn"),D=Array.from(document.querySelectorAll(".modal")),B=[{name:"Golden Gate Bridge",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/7-photo-by-griffin-wooldridge-from-pexels.jpg"},{name:"Dubai",link:"https://images.unsplash.com/photo-1732530365779-dbf5bdf4bc63?q=80&w=2160&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Tokyo",link:"https://plus.unsplash.com/premium_photo-1661914240950-b0124f20a5c1?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Rome",link:"https://plus.unsplash.com/premium_photo-1675975706513-9daba0ec12a8?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Rio de Janeiro",link:"https://plus.unsplash.com/premium_photo-1671211307997-f4f552b0601c?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Paris",link:"https://plus.unsplash.com/premium_photo-1661919210043-fd847a58522d?q=80&w=2671&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}];function C(e){"Escape"==e.key&&D.forEach((e=>{e.classList.contains("modal_opened")&&M(e)}))}function A(e){e.classList.add("modal_opened"),document.addEventListener("keydown",C)}function M(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",C)}function H(e){const t=y.content.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__image"),r=t.querySelector(".card__description"),n=t.querySelector(".card__like-btn"),c=t.querySelector(".card__delete-btn");return o.src=e.link,o.alt=`${e.name} pic`,r.textContent=e.name,n.addEventListener("click",(()=>{n.classList.toggle("card__like-btn_liked")})),c.addEventListener("click",(()=>{t.remove()})),o.addEventListener("click",(()=>{h.src=o.src,h.alt=`${r.textContent} pic`,L.textContent=r.textContent,A(E)})),t}var G;k.addEventListener("click",(()=>{M(E)})),B.forEach((e=>{b.append(H(e))})),D.forEach((e=>{e.addEventListener("click",(t=>{t.target==e&&M(e)}))})),d.addEventListener("click",(()=>{var e,r;A(u),e=u,r=t,[m,f].forEach((t=>{o(e,t,r)})),m.value=p.textContent,f.value=_.textContent})),s.addEventListener("click",(()=>{M(u)})),u.addEventListener("submit",(function(e){e.preventDefault(),M(u)})),v.addEventListener("click",(()=>{A(x)})),S.addEventListener("click",(()=>{M(x)})),x.addEventListener("submit",(function(e){e.preventDefault();const o={link:q.value,name:w.value};var n;B.unshift(o),n=o,b.prepend(H(n)),e.target.reset(),r(g,t),M(x)})),G=t,Array.from(document.querySelectorAll(G.formSelector)).forEach((e=>{!function(e,t){const r=Array.from(e.querySelectorAll(t.inputSelector)),c=e.querySelector(t.submitButtonSelector);n(r,c,t),r.forEach((i=>{i.addEventListener("input",(()=>{!function(e,t,r){t.validity.valid?o(e,t,r):function(e,t,o,r){const n=t.id+"-error",c=e.querySelector("#"+n);t.classList.add(r.inputErrorClass),c.textContent=o,c.classList.add(r.errorClass)}(e,t,t.validationMessage,r)}(e,i,t),n(r,c,t)}))}))}(e,G)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMvRCxNQUFNQyxFQUFpQkYsRUFBYUcsR0FBSyxTQUNuQ0MsRUFBZUwsRUFBWU0sY0FBYyxJQUFNSCxHQUNyREYsRUFBYU0sVUFBVUssSUFBSVYsRUFBT0wsaUJBQ2xDUSxFQUFhSSxZQUFjMkUsRUFDM0IvRSxFQUFhRSxVQUFVSyxJQUFJVixFQUFPSixXQUNwQyxDQVlJdUYsQ0FDRXJGLEVBQ0FDLEVBQ0FBLEVBQWFxRixrQkFDYnBGLEVBS04sQ0F5Q01xRixDQUFtQnZGLEVBQWFDLEVBQWNDLEdBQzlDWSxFQUFrQkMsRUFBV0osRUFBZVQsRUFBTyxHQUNuRCxHQUVOLENBTUlzRixDQUFrQnhGLEVBQWFFLEVBQU8sRyIsInNvdXJjZXMiOlsid2VicGFjazovL3Nwb3RzLXByb2plY3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc3BvdHMtcHJvamVjdC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9zcG90cy1wcm9qZWN0Ly4vc3JjL3NjcmlwdHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9zcG90cy1wcm9qZWN0Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsImNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3NhdmUtYnRuXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3NhdmUtYnRuX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dC1lcnJvcl92aXNpYmxlXCIsXG59O1xuXG5mdW5jdGlvbiBzaG93SW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UsIGNvbmZpZykge1xuICBjb25zdCBlcnJvckVsZW1lbnRJZCA9IGlucHV0RWxlbWVudC5pZCArIFwiLWVycm9yXCI7XG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBlcnJvckVsZW1lbnRJZCk7XG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5lcnJvckNsYXNzKTtcbn1cblxuZnVuY3Rpb24gaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKSB7XG4gIGNvbnN0IGVycm9yRWxlbWVudElkID0gaW5wdXRFbGVtZW50LmlkICsgXCItZXJyb3JcIjtcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIGVycm9yRWxlbWVudElkKTtcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5lcnJvckNsYXNzKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZykge1xuICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgIHNob3dJbnB1dEVycm9yKFxuICAgICAgZm9ybUVsZW1lbnQsXG4gICAgICBpbnB1dEVsZW1lbnQsXG4gICAgICBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UsXG4gICAgICBjb25maWdcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xuICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZW5hYmxlQnV0dG9uKGJ1dHRvbkVsZW1lbnQsIGNvbmZpZykge1xuICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGRpc2FibGVCdXR0b24oYnV0dG9uRWxlbWVudCwgY29uZmlnKSB7XG4gIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiByZXNldFZhbGlkYXRpb24oZm9ybUVsZW1lbnQsIGlucHV0TGlzdCwgY29uZmlnKSB7XG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpIHtcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XG4gICAgZGlzYWJsZUJ1dHRvbihidXR0b25FbGVtZW50LCBjb25maWcpO1xuICB9IGVsc2Uge1xuICAgIGVuYWJsZUJ1dHRvbihidXR0b25FbGVtZW50LCBjb25maWcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbGVtZW50LCBjb25maWcpIHtcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKVxuICApO1xuICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZyk7XG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBlbmFibGVWYWxpZGF0aW9uKGNvbmZpZykge1xuICBjb25zdCBmb3Jtc0xpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpO1xuXG4gIGZvcm1zTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbGVtZW50LCBjb25maWcpO1xuICB9KTtcbn1cblxuZXhwb3J0IHsgcmVzZXRWYWxpZGF0aW9uLCBkaXNhYmxlQnV0dG9uLCBlbmFibGVWYWxpZGF0aW9uLCBzZXR0aW5ncyB9O1xuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCB7XG4gIHJlc2V0VmFsaWRhdGlvbixcbiAgZGlzYWJsZUJ1dHRvbixcbiAgZW5hYmxlVmFsaWRhdGlvbixcbiAgc2V0dGluZ3MsXG59IGZyb20gXCIuLi9zY3JpcHRzL3ZhbGlkYXRpb24uanNcIjtcbmltcG9ydCBoZWFkZXJTcmMgZnJvbSBcIi4uL2ltYWdlcy9oZWFkZXJfbG9nby5zdmdcIjtcbmltcG9ydCBwcm9maWxlU3JjIGZyb20gXCIuLi9pbWFnZXMvQXZhdGFyLnBuZ1wiO1xuaW1wb3J0IGVkaXRQcm9maWxlU3JjIGZyb20gXCIuLi9pbWFnZXMvZWRpdC1wcm9maWxlLWljb24uc3ZnXCI7XG5pbXBvcnQgbmV3UHJvZmlsZVNyYyBmcm9tIFwiLi4vaW1hZ2VzL2FkZC1pY29uLnN2Z1wiO1xuXG5jb25zdCBoZWFkZXJMb2dvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWFkZXItbG9nb1wiKTtcbmhlYWRlckxvZ28uc3JjID0gaGVhZGVyU3JjO1xuY29uc3QgcHJvZmlsZUltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZmlsZS1pbWdcIik7XG5wcm9maWxlSW1nLnNyYyA9IHByb2ZpbGVTcmM7XG5jb25zdCBlZGl0SWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdC1wcm9maWxlLWljb25cIik7XG5lZGl0SWNvbi5zcmMgPSBlZGl0UHJvZmlsZVNyYztcbmNvbnN0IG5ld0ljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ldy1wcm9maWxlLWljb25cIik7XG5uZXdJY29uLnNyYyA9IG5ld1Byb2ZpbGVTcmM7XG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0blwiKTtcblxuY29uc3QgY2xvc2VQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xuXG5jb25zdCBwcm9maWxlRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtbW9kYWxcIik7XG5cbmNvbnN0IHByb2ZpbGVTdWJtaXRCdXR0b24gPVxuICBwcm9maWxlRm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc2F2ZS1idG5cIik7XG5cbmNvbnN0IG5hbWVJbnB1dCA9IHByb2ZpbGVGb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI25hbWVcIik7XG5cbmNvbnN0IGpvYklucHV0ID0gcHJvZmlsZUZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVzY3JpcHRpb25cIik7XG5cbmNvbnN0IHByb2ZpbGVOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIik7XG5cbmNvbnN0IHByb2ZpbGVKb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcblxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpO1xuXG5jb25zdCBjYXJkc0xpc3RFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcblxuY29uc3QgbmV3UHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmV3LWJ0blwiKTtcblxuY29uc3QgbmV3UG9zdEZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3N0LW1vZGFsXCIpO1xuXG5jb25zdCBjbG9zZVBvc3RCdXR0b24gPSBuZXdQb3N0Rm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xuXG5jb25zdCBsaW5rSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xpbmtcIik7XG5cbmNvbnN0IGNhcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FwdGlvblwiKTtcblxuY29uc3QgcHJldmlld01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmV2aWV3LW1vZGFsXCIpO1xuXG5jb25zdCBwcmV2aWV3SW1hZ2VFbGVtZW50ID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltZ1wiKTtcblxuY29uc3QgcHJldmlld0Nsb3NlQnV0dG9uID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcblxuY29uc3QgcHJldmlld0NhcHRpb24gPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FwdGlvblwiKTtcblxuY29uc3QgbmV3UG9zdFN1Ym1pdEJ1dHRvbiA9XG4gIG5ld1Bvc3RGb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlLWJ0blwiKTtcblxuY29uc3QgbW9kYWxzTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbFwiKSk7XG5cbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiR29sZGVuIEdhdGUgQnJpZGdlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzctcGhvdG8tYnktZ3JpZmZpbi13b29sZHJpZGdlLWZyb20tcGV4ZWxzLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJEdWJhaVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE3MzI1MzAzNjU3NzktZGJmNWJkZjRiYzYzP3E9ODAmdz0yMTYwJmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJUb2t5b1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wbHVzLnVuc3BsYXNoLmNvbS9wcmVtaXVtX3Bob3RvLTE2NjE5MTQyNDA5NTAtYjAxMjRmMjBhNWMxP3E9ODAmdz0yNjcwJmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJSb21lXCIsXG4gICAgbGluazogXCJodHRwczovL3BsdXMudW5zcGxhc2guY29tL3ByZW1pdW1fcGhvdG8tMTY3NTk3NTcwNjUxMy05ZGFiYTBlYzEyYTg/cT04MCZ3PTI2NzAmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlJpbyBkZSBKYW5laXJvXCIsXG4gICAgbGluazogXCJodHRwczovL3BsdXMudW5zcGxhc2guY29tL3ByZW1pdW1fcGhvdG8tMTY3MTIxMTMwNzk5Ny1mNGY1NTJiMDYwMWM/cT04MCZ3PTI2NzAmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlBhcmlzXCIsXG4gICAgbGluazogXCJodHRwczovL3BsdXMudW5zcGxhc2guY29tL3ByZW1pdW1fcGhvdG8tMTY2MTkxOTIxMDA0My1mZDg0N2E1ODUyMmQ/cT04MCZ3PTI2NzEmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXG4gIH0sXG5dO1xuXG5mdW5jdGlvbiBoYW5kbGVFc2NhcGUoZXZ0KSB7XG4gIGlmIChldnQua2V5ID09IFwiRXNjYXBlXCIpIHtcbiAgICBtb2RhbHNMaXN0LmZvckVhY2goKG1vZGFsKSA9PiB7XG4gICAgICBpZiAobW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpKSB7XG4gICAgICAgIGhhbmRsZUNsb3NlTW9kYWwobW9kYWwpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuYWJsZUVzYygpIHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlKTtcbn1cblxuZnVuY3Rpb24gZGlzYWJsZUVzYygpIHtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3Blbk1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gIGVuYWJsZUVzYygpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVDbG9zZU1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gIGRpc2FibGVFc2MoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBoYW5kbGVDbG9zZU1vZGFsKHByb2ZpbGVGb3JtRWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckNhcmRzKCkge1xuICBpbml0aWFsQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgIGNhcmRzTGlzdEVsZW1lbnQuYXBwZW5kKGdldENhcmRFbGVtZW50RGF0YShjYXJkKSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZW5kZXJOZXdDYXJkKGNhcmQpIHtcbiAgY2FyZHNMaXN0RWxlbWVudC5wcmVwZW5kKGdldENhcmRFbGVtZW50RGF0YShjYXJkKSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU5ld1Bvc3RTdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBuZXdQb3N0RWxlbWVudCA9IHtcbiAgICBsaW5rOiBsaW5rSW5wdXQudmFsdWUsXG4gICAgbmFtZTogY2FwdGlvbklucHV0LnZhbHVlLFxuICB9O1xuICBpbml0aWFsQ2FyZHMudW5zaGlmdChuZXdQb3N0RWxlbWVudCk7XG4gIHJlbmRlck5ld0NhcmQobmV3UG9zdEVsZW1lbnQpO1xuICBldnQudGFyZ2V0LnJlc2V0KCk7XG4gIGRpc2FibGVCdXR0b24obmV3UG9zdFN1Ym1pdEJ1dHRvbiwgc2V0dGluZ3MpO1xuICBoYW5kbGVDbG9zZU1vZGFsKG5ld1Bvc3RGb3JtRWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGdldENhcmRFbGVtZW50RGF0YShkYXRhKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNvbnRlbnRcbiAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgY29uc3QgY2FyZEltYWdlRWxlbWVudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gIGNvbnN0IGNhcmRUaXRsZUVsZW1lbnQgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2Rlc2NyaXB0aW9uXCIpO1xuICBjb25zdCBjYXJkTGlrZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idG5cIik7XG4gIGNvbnN0IGNhcmREZWxldGVCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idG5cIik7XG5cbiAgY2FyZEltYWdlRWxlbWVudC5zcmMgPSBkYXRhLmxpbms7XG4gIGNhcmRJbWFnZUVsZW1lbnQuYWx0ID0gYCR7ZGF0YS5uYW1lfSBwaWNgO1xuICBjYXJkVGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICBjYXJkTGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGNhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ0bl9saWtlZFwiKTtcbiAgfSk7XG4gIGNhcmREZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBjYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgfSk7XG4gIGNhcmRJbWFnZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBwcmV2aWV3SW1hZ2VFbGVtZW50LnNyYyA9IGNhcmRJbWFnZUVsZW1lbnQuc3JjO1xuICAgIHByZXZpZXdJbWFnZUVsZW1lbnQuYWx0ID0gYCR7Y2FyZFRpdGxlRWxlbWVudC50ZXh0Q29udGVudH0gcGljYDtcbiAgICBwcmV2aWV3Q2FwdGlvbi50ZXh0Q29udGVudCA9IGNhcmRUaXRsZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgaGFuZGxlT3Blbk1vZGFsKHByZXZpZXdNb2RhbCk7XG4gIH0pO1xuXG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gc2V0TW9kYWxDbG9zZUxpc3RlbmVycygpIHtcbiAgbW9kYWxzTGlzdC5mb3JFYWNoKChtb2RhbCkgPT4ge1xuICAgIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldCA9PSBtb2RhbCkge1xuICAgICAgICBoYW5kbGVDbG9zZU1vZGFsKG1vZGFsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbnByZXZpZXdDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBoYW5kbGVDbG9zZU1vZGFsKHByZXZpZXdNb2RhbCk7XG59KTtcblxucmVuZGVyQ2FyZHMoKTtcbnNldE1vZGFsQ2xvc2VMaXN0ZW5lcnMoKTtcblxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBoYW5kbGVPcGVuTW9kYWwocHJvZmlsZUZvcm1FbGVtZW50KTtcbiAgcmVzZXRWYWxpZGF0aW9uKHByb2ZpbGVGb3JtRWxlbWVudCwgW25hbWVJbnB1dCwgam9iSW5wdXRdLCBzZXR0aW5ncyk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVOYW1lRWxlbWVudC50ZXh0Q29udGVudDtcbiAgam9iSW5wdXQudmFsdWUgPSBwcm9maWxlSm9iRWxlbWVudC50ZXh0Q29udGVudDtcbn0pO1xuXG5jbG9zZVByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgaGFuZGxlQ2xvc2VNb2RhbChwcm9maWxlRm9ybUVsZW1lbnQpO1xufSk7XG5cbnByb2ZpbGVGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KTtcblxubmV3UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBoYW5kbGVPcGVuTW9kYWwobmV3UG9zdEZvcm1FbGVtZW50KTtcbn0pO1xuXG5jbG9zZVBvc3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgaGFuZGxlQ2xvc2VNb2RhbChuZXdQb3N0Rm9ybUVsZW1lbnQpO1xufSk7XG5cbm5ld1Bvc3RGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZU5ld1Bvc3RTdWJtaXQpO1xuXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwic2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImhpZGVJbnB1dEVycm9yIiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJjb25maWciLCJlcnJvckVsZW1lbnRJZCIsImlkIiwiZXJyb3JFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImNsYXNzTGlzdCIsInJlbW92ZSIsInRleHRDb250ZW50IiwiZGlzYWJsZUJ1dHRvbiIsImJ1dHRvbkVsZW1lbnQiLCJhZGQiLCJkaXNhYmxlZCIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRMaXN0Iiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJoYXNJbnZhbGlkSW5wdXQiLCJlbmFibGVCdXR0b24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic3JjIiwiaGVhZGVyU3JjIiwicHJvZmlsZVNyYyIsImVkaXRQcm9maWxlU3JjIiwibmV3UHJvZmlsZVNyYyIsImVkaXRCdXR0b24iLCJjbG9zZVByb2ZpbGVCdXR0b24iLCJwcm9maWxlRm9ybUVsZW1lbnQiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsInByb2ZpbGVOYW1lRWxlbWVudCIsInByb2ZpbGVKb2JFbGVtZW50IiwiY2FyZFRlbXBsYXRlIiwiY2FyZHNMaXN0RWxlbWVudCIsIm5ld1Byb2ZpbGVCdXR0b24iLCJuZXdQb3N0Rm9ybUVsZW1lbnQiLCJjbG9zZVBvc3RCdXR0b24iLCJsaW5rSW5wdXQiLCJjYXB0aW9uSW5wdXQiLCJwcmV2aWV3TW9kYWwiLCJwcmV2aWV3SW1hZ2VFbGVtZW50IiwicHJldmlld0Nsb3NlQnV0dG9uIiwicHJldmlld0NhcHRpb24iLCJuZXdQb3N0U3VibWl0QnV0dG9uIiwibW9kYWxzTGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbml0aWFsQ2FyZHMiLCJuYW1lIiwibGluayIsImhhbmRsZUVzY2FwZSIsImV2dCIsImtleSIsImZvckVhY2giLCJtb2RhbCIsImNvbnRhaW5zIiwiaGFuZGxlQ2xvc2VNb2RhbCIsImhhbmRsZU9wZW5Nb2RhbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZ2V0Q2FyZEVsZW1lbnREYXRhIiwiZGF0YSIsImNhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImNhcmRJbWFnZUVsZW1lbnQiLCJjYXJkVGl0bGVFbGVtZW50IiwiY2FyZExpa2VCdXR0b24iLCJjYXJkRGVsZXRlQnV0dG9uIiwiYWx0IiwidG9nZ2xlIiwiY2FyZCIsImFwcGVuZCIsInRhcmdldCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJuZXdQb3N0RWxlbWVudCIsInVuc2hpZnQiLCJwcmVwZW5kIiwicmVzZXQiLCJlcnJvck1lc3NhZ2UiLCJzaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiXSwic291cmNlUm9vdCI6IiJ9